# apiVersion: networking.istio.io/v1alpha3
# kind: ServiceEntry
# metadata:
#   name: istio-cockroachdb-stateful-service-entry
#   namespace: default
# spec:
#   hosts:
#   - *.cockroachdb.<NAMESPACE>.svc.cluster.local
#   location: MESH_INTERNAL
#   ports:
#   - number: 26257
#     name: grpc
#     protocol: TCP
#   resolution: NONE







# apiVersion: networking.istio.io/v1alpha3
# kind: ServiceEntry
# metadata:
#   name: edition-cnn-com
# spec:
#   hosts:
#   - edition.cnn.com
#   ports:
#   - number: 80
#     name: http-port
#     protocol: HTTP
#   - number: 443
#     name: https-port-for-tls-origination
#     protocol: HTTPS
#   resolution: DNS
# ---
# apiVersion: networking.istio.io/v1alpha3
# kind: VirtualService
# metadata:
#   name: edition-cnn-com
# spec:
#   hosts:
#   - edition.cnn.com
#   http:
#   - match:
#     - port: 80
#     route:
#     - destination:
#         host: edition.cnn.com
#         subset: tls-origination
#         port:
#           number: 443
# ---
# apiVersion: networking.istio.io/v1alpha3
# kind: DestinationRule
# metadata:
#   name: edition-cnn-com
# spec:
#   host: edition.cnn.com
#   subsets:
#   - name: tls-origination
#     trafficPolicy:
#       loadBalancer:
#         simple: ROUND_ROBIN
#       portLevelSettings:
#       - port:
#           number: 443
#         tls:
#           mode: MUTUAL # initiates HTTPS when accessing edition.cnn.com